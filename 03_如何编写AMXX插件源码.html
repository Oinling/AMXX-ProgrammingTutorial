<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¦‚ä½•ç¼–å†™AMXXæ’ä»¶æºç </title>
    <style>
        :root {
            --bg-body: #f4f7fb;
            --bg-code: #1e1e2f;
            --text-primary: #2c3e50;
            --text-code: #e4e4e4;
            --accent-blue: #4a90e2;
            --accent-purple: #9b59b6;
            --comment-green: #6a9955;
            --string-red: #ce9178;
            --number-dark: #b5cea8;
            --tag-brown: #d4d4d4;
            --function-purple: #dcdcaa;
            --directive-gray: #808080;
            --border-light: #e0e0e0;
            --shadow-sm: 0 4px 12px rgba(0,0,0,0.05);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: var(--bg-body);
            color: var(--text-primary);
            line-height: 1.7;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            max-width: 1000px;
            width: 100%;
            background: white;
            border-radius: 28px;
            box-shadow: var(--shadow-sm);
            padding: 2.5rem;
            margin: 1rem 0;
        }

        h1 {
            font-size: 2.2rem;
            font-weight: 600;
            background: linear-gradient(135deg, #1e2b3a, #2c3e50);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--accent-blue);
            padding-bottom: 0.5rem;
        }

        h2 {
            font-size: 1.6rem;
            font-weight: 500;
            margin: 2rem 0 1rem;
            color: #1e2b3a;
        }

        p {
            margin: 1.2rem 0;
            font-size: 1.05rem;
        }

        a {
            color: var(--accent-blue);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
        }
        a:hover {
            color: var(--accent-purple);
            text-decoration: underline;
        }

        /* ä»£ç å—å®¹å™¨ */
        .code-block {
            background: var(--bg-code);
            border-radius: 18px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
            box-shadow: inset 0 0 0 1px rgba(255,255,255,0.05), 0 8px 20px rgba(0,0,0,0.3);
        }

        code {
            display: block;
            font-family: 'Fira Code', 'Cascadia Code', 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            color: var(--text-code);
            white-space: pre;
            line-height: 1.6;
        }

        /* è¯­æ³•é«˜äº®ç±»å (ä¸åŸå§‹é£æ ¼å…¼å®¹ä½†æ›´ç°ä»£åŒ–) */
        .amxx-comment  { color: #6a9955; font-style: italic; }
        .amxx-directive{ color: #569cd6; font-weight: 500; }
        .amxx-ds       { color: #9cdcfe; }  /* å®/æ ‡è¯†ç¬¦ */
        .amxx-df       { color: #d4d4d4; }
        .amxx-string   { color: #ce9178; }
        .amxx-number   { color: #b5cea8; }
        .amxx-enumname { color: #4ec9b0; }
        .amxx-function { color: #dcdcaa; font-weight: 500; }
        .amxx-tag      { color: #9cdcfe; }
        .amxx-symbol   { color: #c586c0; }
        .amxx-note     { color: #d4d4d4; }   /* æ™®é€šæ–‡æœ¬ */

        /* è¡Œå†…ä»£ç  */
        .inline-code {
            background: #eef2f5;
            color: #d14;
            font-family: monospace;
            padding: 0.2rem 0.5rem;
            border-radius: 8px;
            font-size: 0.95rem;
            border: 1px solid #d0d7de;
        }

        hr {
            border: none;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent-blue), transparent);
            margin: 2.5rem 0;
        }

        .note {
            background: #f0f7ff;
            border-left: 5px solid var(--accent-blue);
            padding: 1rem 1.8rem;
            border-radius: 16px;
            margin: 1.8rem 0;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>ğŸ“¦ å¦‚ä½•ç¼–å†™AMXXæ’ä»¶æºç </h1>

    <p>é€šå¸¸åº”è¯¥åœ¨ç¼–è¯‘å™¨ç›®å½•ï¼ˆæºç ç›®å½•ï¼‰åˆ›å»ºæ–‡æœ¬æ–‡æ¡£ï¼Œå¡«å†™è‹±æ–‡æ–‡ä»¶åå’Œ.smaåç¼€ã€‚</p>

    <p>æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼Œå¼€å§‹ç¼–å†™ä»£ç ã€‚</p>

    <div class="note">
        <strong>ğŸ“Œ æ ¸å¿ƒè§„åˆ™ï¼š</strong> AMXXæ’ä»¶æºç å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ª<strong>å…¬å…±å‡½æ•°</strong>ä½œä¸ºå…¥å£ï¼Œå¦åˆ™æ— æ³•ç¼–è¯‘ã€‚
    </div>

    <p>å‡½æ•°æ˜¯æœ‰åå­—çš„ä»£ç å—ã€‚å£°æ˜å…¬å…±å‡½æ•°å¹¶å®šä¹‰å…¶ä»£ç çš„ç¤ºä¾‹ï¼š</p>

    <div class="code-block">
<code><span class="amxx-comment">// å£°æ˜ä¸€ä¸ªå‡½æ•° Function (åç§°å¯è‡ªå®šä¹‰)ï¼Œpublic è¡¨ç¤ºå…¬å¼€</span>
<span class="amxx-directive">public</span> <span class="amxx-function">Function</span>()
{
    <span class="amxx-comment">// è¿™é‡Œå¡«å†™éœ€è¦æ‰§è¡Œçš„ä»£ç ï¼Œä¾‹å¦‚ä¸‹é¢è¿™è¡Œä»£ç ä½œç”¨æ˜¯åœ¨æ§åˆ¶å°å‘é€æ–‡æœ¬</span>
    <span class="amxx-function">server_print</span>(<span class="amxx-string">"====================== Hello ======================"</span>);
}</code>
    </div>

    <p>å…¶ä»–æ¨¡å—ä¸ä¼šä¸»åŠ¨è®¿é—®ä½ çš„å…¬å…±å‡½æ•°ï¼Œå› æ­¤ä¸Šé¢çš„ä»£ç ä»…ä¿è¯èƒ½ç¼–è¯‘é€šè¿‡ï¼Œå…¬å…±å‡½æ•°çš„ä»£ç å—å†…å®¹æ— æ³•æ‰§è¡Œã€‚</p>

    <p>è¦ä½¿ä»£ç å®é™…æ‰§è¡Œï¼Œé€šå¸¸åœ¨æºç éœ€è¦å¼•ç”¨ <span class="inline-code">amxmodx.inc</span> è¿™ä¸ªå¤´æ–‡ä»¶ï¼š</p>

    <div class="code-block">
<code><span class="amxx-directive">#include</span> <span class="amxx-string">&lt;amxmodx&gt;</span></code>
    </div>

    <p><span class="inline-code">amxmodx.inc</span> ä¸­åŒ…å«è®¸å¤šç”¨ <span class="inline-code">forward</span> å£°æ˜çš„å‡½æ•°ï¼ˆç¼ºå°‘ä»£ç å—éƒ¨åˆ†çš„å‡½æ•°å®šä¹‰ï¼‰ï¼Œåƒè¿™æ ·ï¼š</p>

    <div class="code-block">
<code><span class="amxx-comment">/**
 * Called just after server activation.
 *
 * @note Good place to initialize most of the plugin...
 */</span>
<span class="amxx-directive">forward</span> <span class="amxx-function">plugin_init</span>();</code>
    </div>

    <p>ä½ åœ¨è‡ªå·±çš„æºç ä¸­ç”¨ <span class="inline-code">public</span> å®šä¹‰åŒåå‡½æ•°ï¼Œå®ƒå°±ä¼šåœ¨ç‰¹å®šæ—¶åˆ»è¢«è§¦å‘ã€‚</p>

    <div class="code-block">
<code><span class="amxx-directive">#include</span> <span class="amxx-string">&lt;amxmodx&gt;</span>

<span class="amxx-directive">public</span> <span class="amxx-function">plugin_init</span>()
{
    <span class="amxx-comment">// æ ¹æ®amxmodx.incæ–‡ä»¶ä¸­çš„ä»‹ç»ï¼Œæ­¤å‡½æ•°åœ¨æœåŠ¡å™¨å¯åŠ¨åç«‹åˆ»è§¦å‘ã€‚</span>
    <span class="amxx-comment">// æ˜¯é€‚åˆå¤§éƒ¨åˆ†æ’ä»¶è¿›è¡Œæ•°æ®åˆå§‹åŒ–çš„å¥½å‡½æ•°ã€‚</span>
    <span class="amxx-comment">// ä¹Ÿå¯ä»¥è°ƒç”¨å…¶å®ƒå‡½æ•°ï¼ˆä¸åŒ…æ‹¬forwardå‡½æ•°ï¼‰</span>

    
    <span class="amxx-comment">// è°ƒç”¨Functionå‡½æ•°çš„æ•ˆæœæ˜¯åœ¨æ§åˆ¶å°å‘é€Helloæ–‡æœ¬</span>
    <span class="amxx-function">Function</span>();
    <span class="amxx-comment">// ä¸‹é¢è¿™è¡Œä»£ç ä½œç”¨æ˜¯åœ¨æ§åˆ¶å°å‘é€Rainbowæ–‡æœ¬</span>
    <span class="amxx-function">server_print</span>(<span class="amxx-string">"====================== Rainbow ======================"</span>);
}
<span class="amxx-directive">public</span> <span class="amxx-function">Function</span>()
{
    <span class="amxx-function">server_print</span>(<span class="amxx-string">"====================== Hello ======================"</span>);
}</code>
    </div>

    <hr>

    <h2>âš™ï¸ ç¼–è¯‘ä¸è¿è¡Œ</h2>
    <p>ç¼–è¯‘æºç å¾—åˆ°.amxxæ–‡ä»¶åï¼Œå­˜æ”¾åˆ°æ’ä»¶ç›®å½•ï¼Œå¹¶ç”¨è®°äº‹æœ¬æ‰“å¼€plugins.iniï¼Œå¦èµ·ä¸€è¡Œå¡«å†™æ’ä»¶æ–‡ä»¶åå’Œä»‹ç»ï¼š</p>

    <div class="code-block">
<code><span class="amxx-note">my_plugin.amxx            ; è¿™æ˜¯æˆ‘æ­£åœ¨æµ‹è¯•çš„å°æ’ä»¶</span></code>
    </div>

    <p>è¿›å…¥æ¸¸æˆåœ°å›¾åæŒ‰æ‰“å¼€æ§åˆ¶å°ï¼Œå‘é€<span class="inline-code">amxx plugins</span>å³å¯æŸ¥çœ‹æ’ä»¶ä¿¡æ¯ã€‚</p>

    <hr>

    <h2>ğŸ“ è®¾ç½®æ’ä»¶ä¿¡æ¯</h2>
    <p>è°ƒç”¨ <span class="inline-code">register_plugin</span> å‡½æ•°å¯ä»¥è®¾ç½®æ’ä»¶åç§°ï¼Œç‰ˆæœ¬ï¼Œä½œè€…ç­‰ä¿¡æ¯ï¼š</p>

    <div class="code-block">
<code><span class="amxx-directive">#include</span> <span class="amxx-string">&lt;amxmodx&gt;</span>

<span class="amxx-directive">public</span> <span class="amxx-function">plugin_init</span>()
{
    <span class="amxx-function">register_plugin</span>(<span class="amxx-string">"æ’ä»¶åç§°"</span>, <span class="amxx-string">"æ’ä»¶ç‰ˆæœ¬"</span>, <span class="amxx-string">"æ’ä»¶ä½œè€…"</span>);
}</code>
    </div>
    <p>è‹¥å­—ç¬¦ä¸²å†…åŒ…å«ä¸­æ–‡ï¼Œä¿å­˜æ—¶è¯·è®¾ç½®ä¸º <strong>UTF-8 æ—  BOM</strong> ç¼–ç ã€‚</p>

    <hr>

    <h2>ğŸ¯ ç›‘å¬æ›´å¤šäº‹ä»¶</h2>
    <p>é™¤äº†forwardå‡½æ•°ï¼Œè¿˜å¯ä»¥åˆ©ç”¨ç‰¹å®šçš„nativeå‡½æ•°ç›‘å¬äº‹ä»¶ï¼Œå†³å®šä»€ä¹ˆæƒ…å†µä¸‹è§¦å‘è‡ªå®šä¹‰çš„å…¬å…±å‡½æ•°ã€‚</p>
    <p>ä¾‹å¦‚ï¼š</p>
    <p><span class="inline-code">amxmodx.inc</span>çš„<span class="inline-code">register_event</span>ã€<span class="inline-code">register_logevent</span>å‡½æ•°ã€‚</p>
    <p><span class="inline-code">fakemeta.inc</span>çš„<span class="inline-code">register_forward</span>å‡½æ•°ã€‚</p>
    <p><span class="inline-code">hamsandwich.inc</span>çš„<span class="inline-code">RegisterHam</span>å‡½æ•°ã€‚</p>
    <p>è¿™ç±»å‡½æ•°å¯ä»¥è®©ç‰¹å®šäº‹ä»¶è§¦å‘ä¹‹å‰æˆ–ä¹‹åï¼Œå…ˆæ‰§è¡Œä½ åˆ¶ä½œçš„å…¬å…±å‡½æ•°ã€‚</p>
    <p>æ›´è¯¦ç»†çš„ä»‹ç»éœ€è‡ªè¡ŒæŸ¥é˜…incæ–‡ä»¶æä¾›çš„æ³¨é‡Šï¼Œå…¶å¯ç›‘å¬çš„ç›¸å…³äº‹ä»¶é€šå¸¸ä½äºå…¶å®ƒå¤´æ–‡ä»¶å†…ï¼Œä¾‹å¦‚**const.incç»“å°¾çš„å¤´æ–‡ä»¶ã€‚</p>
    <ul style="margin-left: 2rem;">
        <li><span class="inline-code">amxmodx.inc</span> â€” èƒ½ç›‘å¬æ’ä»¶ã€æ¶ˆæ¯ç›¸å…³äº‹ä»¶ï¼Œä½†æœªåˆ—ä¸¾å¯ç›‘å¬æ¶ˆæ¯</li>
        <li><span class="inline-code">fakemeta.inc</span> â€” èƒ½ç›‘å¬å®ä½“ã€å¼•æ“ã€è§„åˆ™ç›¸å…³äº‹ä»¶ï¼Œäº‹ä»¶ç±»å‹åˆ—ä¸¾äºfakemeta_const.incä½†æ— æ³¨é‡Š</li>
        <li><span class="inline-code">hamsandwich.inc</span> â€” èƒ½ç›‘å¬å®ä½“ç›¸å…³äº‹ä»¶ï¼Œäº‹ä»¶ç±»å‹åˆ—ä¸¾äºham_const.incå¹¶ä¸”æ³¨é‡Šæ¸…æ™°</li>
    </ul>

    <h3>ç¤ºä¾‹ï¼šç©å®¶å®ä½“è¢«å‡»æ€åï¼Œå‡¶æ‰‹æ»¡è¡€</h3>
    <div class="code-block">
<code><span class="amxx-directive">#include</span> <span class="amxx-string">&lt;amxmodx&gt;</span>
<span class="amxx-directive">#include</span> <span class="amxx-string">&lt;fakemeta&gt;</span>
<span class="amxx-directive">#include</span> <span class="amxx-string">&lt;hamsandwich&gt;</span>

<span class="amxx-directive">public</span> <span class="amxx-function">plugin_init</span>()
{
    <span class="amxx-function">register_plugin</span>(<span class="amxx-string">"æµ‹è¯•"</span>, <span class="amxx-string">"1.0.0"</span>, <span class="amxx-string">"ä½œè€…"</span>);
    <span class="amxx-comment">// è®¾ç½®ç©å®¶å®ä½“è¢«å‡»æ€äº‹ä»¶è§¦å‘ä¹‹åï¼Œè°ƒç”¨Player_Killed_Postå‡½æ•°</span>
    <span class="amxx-function">RegisterHam</span>(<span class="amxx-symbol">Ham_Killed</span>, <span class="amxx-string">"player"</span>, <span class="amxx-string">"Player_Killed_Post"</span>, <span class="amxx-number">1</span>, <span class="amxx-symbol">true</span>);
}

<span class="amxx-directive">public</span> <span class="amxx-function">Player_Killed_Post</span>(<span class="amxx-symbol">killedEntId</span>, <span class="amxx-symbol">killerEntId</span>, <span class="amxx-symbol">shouldGib</span>)
{
    <span class="amxx-comment">// è‹¥å‡¶æ‰‹è¿˜æˆ–è€…</span>
    <span class="amxx-directive">if</span> (<span class="amxx-function">is_user_alive</span>(<span class="amxx-symbol">killerEntId</span>))
    {
        <span class="amxx-comment">// è·å–å‡¶æ‰‹çš„æœ€å¤§ç”Ÿå‘½å€¼</span>
        <span class="amxx-directive">new</span> <span class="amxx-tag">Float:</span><span class="amxx-symbol">maxHealth</span>;
        <span class="amxx-function">pev</span>(<span class="amxx-symbol">killerEntId</span>, <span class="amxx-symbol">pev_max_health</span>, <span class="amxx-symbol">maxHealth</span>);
        <span class="amxx-comment">// è®¾ç½®å‡¶æ‰‹çš„ç”Ÿå‘½å€¼ä¸ºæœ€å¤§ç”Ÿå‘½å€¼</span>
        <span class="amxx-function">set_pev</span>(<span class="amxx-symbol">killerEntId</span>, <span class="amxx-symbol">pev_health</span>, <span class="amxx-symbol">maxHealth</span>);
    }
}</code>
    </div>

    <hr>

    <h2>ğŸ“š ä¸‹ä¸€æ­¥</h2>
    <p>è™½ç„¶æœ¬æ•™ç¨‹è®©ä½ å¿«é€Ÿä¸Šæ‰‹ï¼Œä½†è¦æƒ³å†™å‡ºå¤æ‚æ’ä»¶ï¼Œè¿˜éœ€è¦å­¦ä¹ åŸºç¡€è¯­æ³•ã€‚ä¸‹ä¸€ç¯‡ï¼š</p>
    <p style="font-size: 1.2rem;"><a href="04_AMXXæºç çš„æ³¨é‡Š.html">ğŸ“„ 04. AMXXæºç çš„æ³¨é‡Š &rarr;</a></p>
</div>
</body>
</html>